<?xml version="1.0" encoding="UTF-8"?>
<document xmlns="http://www.kinoma.com/fskin/1">
	<model>
		<code>
			<function id="initialized">
				this.container.CHECK_ALL_KEYS.focus(true)
				this.container.CHECK_ALL_KEYS.start()
			</function>
		</code>
	</model>
	<group id="CHECK_ALL_KEYS" left="0" right="0" top="0" bottom="0">
		<code>
			<function id="done" params="flag">
				this.flags |= flag;
				if (this.flags == 0x0FFFFFF)
					this.stop();
				</function>

			<function id="doNext" params="part"><![CDATA[
				if (part.key == "kNext") {
					this.NEXT.v = 1;
					this.done(1 << 10);
				}
				else {
					this.NEXT2.v = 1;
					this.done(1 << 15);
				}
			]]></function>
			<function id="doPrevious" params="part"><![CDATA[
				if (part.key == "kPrevious") {
					this.PREVIOUS.v = 1;
					this.done(1 << 11);
				}
				else {
					this.PREVIOUS2.v = 1;
					this.done(1 << 16);
				}
			]]></function>
			<function id="doLoud"><![CDATA[
				this.LOUD.v = 1;
				this.done(1 << 12);
			]]></function>
			<function id="doQuiet"><![CDATA[
				this.QUIET.v = 1;
				this.done(1 << 13);
			]]></function>
			<function id="doSize"><![CDATA[
				this.SIZE.v = 1;
				this.done(1 << 14);
			]]></function>
			<function id="doDigit" params="part"><![CDATA[
				switch (part.key) {
				case "1":
					this.ONE.v = 1;
					this.done(1 << 1);
					break;
				case "2":
					this.TWO.v = 1;
					this.done(1 << 2);
					break;
				case "3":
					this.THREE.v = 1;
					this.done(1 << 3);
					break;
				case "4":
					this.FOUR.v = 1;
					this.done(1 << 4);
					break;
				case "5":
					this.FIVE.v = 1;
					this.done(1 << 5);
					break;
				case "6":
					this.SIX.v = 1;
					this.done(1 << 6);
					break;
				case "7":
					this.SEVEN.v = 1;
					this.done(1 << 7);
					break;
				case "8":
					this.EIGHT.v = 1;
					this.done(1 << 8);
					break;
				case "9":
					this.NINE.v = 1;
					this.done(1 << 9);
					break;
				case "0":
					this.ZERO.v = 1;
					this.done(1);
					break;
				}
			]]></function>
			<function id="doMark"><![CDATA[
				this.MARK.v = 1;
				this.done(1 << 17);
			]]></function>
			<function id="doUp"><![CDATA[
				this.UP.v = 1;
				this.done(1 << 18);
			]]></function>
			<function id="doLeft"><![CDATA[
				this.LEFT.v = 1;
				this.done(1 << 19);
			]]></function>
			<function id="doCenter"><![CDATA[
				this.CENTER.v = 1;
				this.done(1 << 20);
			]]></function>
			<function id="doRight"><![CDATA[
				this.RIGHT.v = 1;
				this.done(1 << 21);
			]]></function>
			<function id="doDown"><![CDATA[
				this.DOWN.v = 1;
				this.done(1 << 22);
			]]></function>
			<function id="doMenu"><![CDATA[
				this.MENU.v = 1;
				this.done(1 << 23);
			]]></function>
			
			<function id="start">
				this.flags = 0;
				this.NEXT.v = 0;
				this.PREVIOUS.v = 0;
				this.LOUD.v = 0;
				this.QUIET.v = 0;
				this.SIZE.v = 0;
				this.ONE.v = 0;
				this.TWO.v = 0;
				this.THREE.v = 0;
				this.FOUR.v = 0;
				this.FIVE.v = 0;
				this.SIX.v = 0;
				this.SEVEN.v = 0;
				this.EIGHT.v = 0;
				this.NINE.v = 0;
				this.ZERO.v = 0;
				this.NEXT2.v = 0;
				this.PREVIOUS2.v = 0;
				this.MARK.v = 0;
				this.UP.v = 0;
				this.LEFT.v = 0;
				this.CENTER.v = 0;
				this.RIGHT.v = 0;
				this.DOWN.v = 0;
				this.MENU.v = 0;
				
				this.BACKGROUND.invalidate();
			</function>
			<function id="stop">
				try {
					FileSystem.ensureDirectory("/Data/tmp/")
					var checkfile = new Stream.File("/Data/tmp/checked", 3);
					if (checkfile) 
						checkfile.close();
				}
				catch (e) {
				}
				this.setVariable("KEYCHECK", "Done")
				this.bubble("finishTest")
			</function>
		</code>
		
		<sprite id="BACKGROUND" left="0" right="0" top="0" bottom="0">
			<behave like="background"/>
		</sprite>
		
		<sprite id="NEXT" left="0" width="100" top="50" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="NEXT"/>
			<behave like="key"/>
		</sprite>
		<sprite id="PREVIOUS" left="0" width="100" top="100" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="PREV"/>
			<behave like="key"/>
		</sprite>
		<sprite id="LOUD" left="0" width="100" top="150" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="VOL+"/>
			<behave like="key"/>
		</sprite>
		<sprite id="QUIET" left="0" width="100" top="200" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="VOL-"/>
			<behave like="key"/>
		</sprite>
		<sprite id="SIZE" left="0" width="100" top="250" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="SIZE"/>
			<behave like="key"/>
		</sprite>
		
		<sprite id="ONE" left="100" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="1"/>
			<behave like="key"/>
		</sprite>
		<sprite id="TWO" left="150" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="2"/>
			<behave like="key"/>
		</sprite>
		<sprite id="THREE" left="200" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="3"/>
			<behave like="key"/>
		</sprite>
		<sprite id="FOUR" left="250" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="4"/>
			<behave like="key"/>
		</sprite>
		<sprite id="FIVE" left="300" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="5"/>
			<behave like="key"/>
		</sprite>
		<sprite id="SIX" left="350" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="6"/>
			<behave like="key"/>
		</sprite>
		<sprite id="SEVEN" left="400" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="7"/>
			<behave like="key"/>
		</sprite>
		<sprite id="EIGHT" left="450" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="8"/>
			<behave like="key"/>
		</sprite>
		<sprite id="NINE" left="500" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="9"/>
			<behave like="key"/>
		</sprite>
		<sprite id="ZERO" left="550" width="50" top="300" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="0"/>
			<behave like="key"/>
		</sprite>
		
		<sprite id="NEXT2" left="150" width="100" top="375" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="NEXT"/>
			<behave like="key"/>
		</sprite>
		<sprite id="PREVIOUS2" left="100" width="100" top="425" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="PREV"/>
			<behave like="key"/>
		</sprite>
		<sprite id="MARK" left="200" width="100" top="500" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="MARK"/>
			<behave like="key"/>
		</sprite>
		
		<sprite id="UP" left="400" width="100" top="350" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="UP"/>
			<behave like="key"/>
		</sprite>
		<sprite id="LEFT" left="300" width="100" top="400" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="LEFT"/>
			<behave like="key"/>
		</sprite>
		<sprite id="CENTER" left="400" width="100" top="400" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="ENTER"/>
			<behave like="key"/>
		</sprite>
		<sprite id="RIGHT" left="500" width="100" top="400" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="RIGHT"/>
			<behave like="key"/>
		</sprite>
		<sprite id="DOWN" left="400" width="100" top="450" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="DOWN"/>
			<behave like="key"/>
		</sprite>
		<sprite id="MENU" left="500" width="100" top="500" height="50" skin="keySkin" skinType="horizontal">
			<property id="text" value="MENU"/>
			<behave like="key"/>
		</sprite>

		
	</group>
</document>
